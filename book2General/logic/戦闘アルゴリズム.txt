/**
 * @title logic / 戦闘アルゴリズム.txt
 * @content 戦闘計算の考え方をテキストファイルで整理
 *
 * @author Oshika
 * @date 2020-09-26
*/

■戦闘アルゴリズム
◆概要
たくさんの戦闘用パラメーターを思いつくまま用意したが、
まずは単純化した小規模のモデルから始めて、これがある程度できてから
徐々に機能を拡張していこうと思う。

最初に扱うのは「兵士数」「士気」で、まずは これの増減アルゴリズムを考えて行こう。

＊兵士数と士気 ーー デフォルトで与えられて、戦闘に際し徐々に減少していく変数。
某大手シミュレーション・ゲームのように、最後の一兵まで、兵士数０まで戦うというのは現実的ではない。
実際は部隊の士気が沮喪して逃げ散ってしまうもので、いったん負け戦となったら、あっという間に散逸してしまう。
勝てる見込みがあり、かつ自らの身に危険が及ばない限りにおいて、戦国期の部隊は存続しうる。
近代軍隊においても、規定兵力の半数を失うと その部隊は「壊滅」と呼ばれる。
そのままでは作戦行動を起こすための戦闘単位とは見られず、再編成を要する部隊ということだろう。

戦史研究などをしていると、つい忘れがちになってしまうが、そこに居る兵の一人一人が命ある人間で、
それゆえ、集団行動においても人間的な生存本能からくる行動にさゆうされる。
伏兵や側面攻撃などで思わぬ強敵に遭遇すると、兵は動揺し、敵を倒すことより
自らの命を守るための活路を探し求め、時に部隊そのものが潰走する。


＊将と兵質 ーー デフォルトで決定している定数。
当時の足軽(兵卒)は扶持米で雇われた被雇用者なので、その家に忠誠心などはない。
士分からは主家の領地から分け与えられた知行地を持つ直属の家臣である。

足軽たちの関心は戦場働きで敵の雑兵の首を持ち帰り、戦後の恩賞に預かることである。
そのため足軽たちは将領の力量には敏感で、自分の属す将領の力量次第で良き戦場に恵まれるか、
自分たちの命を落とすことになるかが左右される。

戦国期にもよく知られていた兵質というのは不思議なもので、
都市部や商業地の兵は弱く、山岳や辺鄙な田舎の兵ほど強いとされていた。
甲斐信濃を領した武田の兵は戦国最強と言われていたし、徳川家の三河武士の名も轟いている。

兵質は血筋などの遺伝とは関係ないらしく、秀吉が天下を取ったときの精鋭を「七手組」と称して親衛隊としたが
その子の代には薄化粧などをする軟弱な集団として秀頼の親衛隊をしていたし、
徳川家が天下を簒奪したあとも、三河武士団の「旗本八万騎」を常備軍として江戸に住まわせたが、
幕末、この旗本の子孫は「お殿様」などと呼ばれる身分として育ったため何の役にも立たず、
いざ戦さの号令があっても、こぞって隠居届を出し幼少の当主に家督を譲ってしまった。

兵質とは育った環境が恵まれていないほど、野性を残した猛兵になっていくのだろうか。


◆第１段階アルゴリズム ーー 兵士数、士気、将質、兵質のみを使った戦闘計算
＊ボードゲーム・シミュレーションの例
ボードゲームにもシミュレーションゲームというものがあって、そこでの戦闘計算は、
まず「攻撃側：防衛側」の戦力比を取り、端数は防御側有利として切り捨てて１：１とか２：１とかの比を出す。
その後、サイコロを２個振って合計値を出し、戦闘結果表という表を見る。
そこには１：１の欄は勝敗が均等に、２：１(攻撃側２倍)の欄には、攻撃側優勢の結果が並んでおり、
先ほどのサイコロ結果によって結果が決まる。
兵力優勢でもサイコロの目次第では、防衛側が勝つこともあるし、「相殺」といって両者相討ちという結果もある。
サイコロの目だけでなく、たとえば包囲されているとか、２方向からの攻撃とかで
サイコロの目に修正値として「＋３」「＋２」とかの修正を加えた結果が出る。
防衛側も地形効果修正値があるので、城郭や要塞に籠る場合は強靭な強さを発揮する。

ただし、ボードゲームの限界はその駒が無くなるか撤退するかの結果しかなく(混乱や不活性化というのもあったが)
兵士数や士気と言った数値的な減少としての結果が登場したのはコンピューターゲームになって以降の話だろう。


＊兵数の比
まず兵数の比を取るところから始めよう。
